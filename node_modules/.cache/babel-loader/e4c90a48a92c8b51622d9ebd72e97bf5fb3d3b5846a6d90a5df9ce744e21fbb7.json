{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import{fetchData}from\"../../utils/utils\";import{loadingMore}from\"../../slices/AppSlice\";import{setTvReviews}from\"../../slices/TvShowSlice\";import TvHeader from\"./TvHeader\";import ReviewsComponent from\"../(utils)/ReviewsComponent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TvReview=()=>{const dispatch=useDispatch();const{id}=useParams();useEffect(()=>{async function fetchDataFunction(){const result=await fetchData(\"tv/\".concat(id,\"/reviews?language=en-US&page=1\"));dispatch(setTvReviews(result));}fetchDataFunction();},[id,dispatch]);const tvReview=useSelector(state=>state.series.tvReviews.data);const nextPage=useSelector(state=>state.app.loadMore.page);const handleLoadMore=async()=>{dispatch(loadingMore());const res=await fetchData(\"tv/\".concat(id,\"/reviews?language=en-US&page=\").concat(nextPage));dispatch(setTvReviews([...tvReview,...res]));};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-5\",children:[/*#__PURE__*/_jsx(TvHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center pl-10 pr-10 items-center gap-10\",children:[/*#__PURE__*/_jsx(ReviewsComponent,{data:tvReview}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLoadMore,children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-500 rounded-xl p-2 text-black font-serif font-bold\",children:\"Load More\"})})]})]});};export default TvReview;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useParams","fetchData","loadingMore","setTvReviews","TvHeader","ReviewsComponent","jsx","_jsx","jsxs","_jsxs","TvReview","dispatch","id","fetchDataFunction","result","concat","tvReview","state","series","tvReviews","data","nextPage","app","loadMore","page","handleLoadMore","res","className","children","onClick"],"sources":["/Users/puscasmadalina/Documents/Movie App/movie-app-redux/src/components/tvshow/TvReview.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchData } from \"../../utils/utils\";\nimport { loadingMore } from \"../../slices/AppSlice\";\nimport { setTvReviews } from \"../../slices/TvShowSlice\";\nimport TvHeader from \"./TvHeader\";\nimport ReviewsComponent from \"../(utils)/ReviewsComponent\";\n\nconst TvReview = () => {\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  useEffect(() => {\n    async function fetchDataFunction() {\n      const result = await fetchData(`tv/${id}/reviews?language=en-US&page=1`);\n      dispatch(setTvReviews(result));\n    }\n\n    fetchDataFunction();\n  }, [id, dispatch]);\n  const tvReview = useSelector((state) => state.series.tvReviews.data);\n\n  const nextPage = useSelector((state) => state.app.loadMore.page);\n\n  const handleLoadMore = async () => {\n    dispatch(loadingMore());\n\n    const res = await fetchData(\n      `tv/${id}/reviews?language=en-US&page=${nextPage}`\n    );\n    dispatch(setTvReviews([...tvReview, ...res]));\n  };\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <TvHeader />\n      <div className=\"flex flex-col justify-center pl-10 pr-10 items-center gap-10\">\n        <ReviewsComponent data={tvReview} />\n        <button onClick={handleLoadMore}>\n          <span className=\"bg-yellow-500 rounded-xl p-2 text-black font-serif font-bold\">\n            Load More\n          </span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default TvReview;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,SAAS,KAAQ,mBAAmB,CAC7C,OAASC,WAAW,KAAQ,uBAAuB,CACnD,OAASC,YAAY,KAAQ,0BAA0B,CACvD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,gBAAgB,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3D,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEc,EAAG,CAAC,CAAGZ,SAAS,CAAC,CAAC,CAC1BH,SAAS,CAAC,IAAM,CACd,cAAe,CAAAgB,iBAAiBA,CAAA,CAAG,CACjC,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAb,SAAS,OAAAc,MAAA,CAAOH,EAAE,kCAAgC,CAAC,CACxED,QAAQ,CAACR,YAAY,CAACW,MAAM,CAAC,CAAC,CAChC,CAEAD,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,CAACD,EAAE,CAAED,QAAQ,CAAC,CAAC,CAClB,KAAM,CAAAK,QAAQ,CAAGjB,WAAW,CAAEkB,KAAK,EAAKA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACC,IAAI,CAAC,CAEpE,KAAM,CAAAC,QAAQ,CAAGtB,WAAW,CAAEkB,KAAK,EAAKA,KAAK,CAACK,GAAG,CAACC,QAAQ,CAACC,IAAI,CAAC,CAEhE,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCd,QAAQ,CAACT,WAAW,CAAC,CAAC,CAAC,CAEvB,KAAM,CAAAwB,GAAG,CAAG,KAAM,CAAAzB,SAAS,OAAAc,MAAA,CACnBH,EAAE,kCAAAG,MAAA,CAAgCM,QAAQ,CAClD,CAAC,CACDV,QAAQ,CAACR,YAAY,CAAC,CAAC,GAAGa,QAAQ,CAAE,GAAGU,GAAG,CAAC,CAAC,CAAC,CAC/C,CAAC,CAED,mBACEjB,KAAA,QAAKkB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCrB,IAAA,CAACH,QAAQ,GAAE,CAAC,cACZK,KAAA,QAAKkB,SAAS,CAAC,8DAA8D,CAAAC,QAAA,eAC3ErB,IAAA,CAACF,gBAAgB,EAACe,IAAI,CAAEJ,QAAS,CAAE,CAAC,cACpCT,IAAA,WAAQsB,OAAO,CAAEJ,cAAe,CAAAG,QAAA,cAC9BrB,IAAA,SAAMoB,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,WAE/E,CAAM,CAAC,CACD,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}