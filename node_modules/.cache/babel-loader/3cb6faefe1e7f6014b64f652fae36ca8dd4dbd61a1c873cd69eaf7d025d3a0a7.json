{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import{fetchData}from\"../../utils/utils\";import{loadingMore}from\"../../slices/AppSlice\";import{setMovieReviews}from\"../../slices/MovieSlice\";import MovieHeader from\"./MovieHeader\";import ReviewsComponent from\"../(utils)/ReviewsComponent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MovieReview=()=>{const dispatch=useDispatch();const{id}=useParams();useEffect(()=>{async function fetchDataFunction(){const result=await fetchData(\"movie/\".concat(id,\"/reviews?language=en-US&page=1\"));dispatch(setMovieReviews(result));}fetchDataFunction();},[id,dispatch]);const moviesReview=useSelector(state=>state.movie.moviesReviews.data);const nextPage=useSelector(state=>state.app.loadMore.page);const handleLoadMore=async()=>{dispatch(loadingMore());const res=await fetchData(\"movie/\".concat(id,\"/reviews?language=en-US&page=\").concat(nextPage));dispatch(setMovieReviews([...moviesReview,...res]));};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-5\",children:[/*#__PURE__*/_jsx(MovieHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center pl-10 pr-10 items-center gap-10\",children:[/*#__PURE__*/_jsx(ReviewsComponent,{data:moviesReview}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLoadMore,children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-500 rounded-xl p-2 text-black font-serif font-bold\",children:\"Load More\"})})]})]});};export default MovieReview;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useParams","fetchData","loadingMore","setMovieReviews","MovieHeader","ReviewsComponent","jsx","_jsx","jsxs","_jsxs","MovieReview","dispatch","id","fetchDataFunction","result","concat","moviesReview","state","movie","moviesReviews","data","nextPage","app","loadMore","page","handleLoadMore","res","className","children","onClick"],"sources":["/Users/puscasmadalina/Documents/Movie App/movie-app-redux/src/components/movies/MovieReview.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchData } from \"../../utils/utils\";\nimport { loadingMore } from \"../../slices/AppSlice\";\nimport { setMovieReviews } from \"../../slices/MovieSlice\";\nimport MovieHeader from \"./MovieHeader\";\nimport ReviewsComponent from \"../(utils)/ReviewsComponent\";\n\nconst MovieReview = () => {\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  useEffect(() => {\n    async function fetchDataFunction() {\n      const result = await fetchData(\n        `movie/${id}/reviews?language=en-US&page=1`\n      );\n      dispatch(setMovieReviews(result));\n    }\n\n    fetchDataFunction();\n  }, [id, dispatch]);\n  const moviesReview = useSelector((state) => state.movie.moviesReviews.data);\n  const nextPage = useSelector((state) => state.app.loadMore.page);\n\n  const handleLoadMore = async () => {\n    dispatch(loadingMore());\n\n    const res = await fetchData(\n      `movie/${id}/reviews?language=en-US&page=${nextPage}`\n    );\n    dispatch(setMovieReviews([...moviesReview, ...res]));\n  };\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <MovieHeader />\n      <div className=\"flex flex-col justify-center pl-10 pr-10 items-center gap-10\">\n        <ReviewsComponent data={moviesReview} />\n        <button onClick={handleLoadMore}>\n          <span className=\"bg-yellow-500 rounded-xl p-2 text-black font-serif font-bold\">\n            Load More\n          </span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieReview;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,SAAS,KAAQ,mBAAmB,CAC7C,OAASC,WAAW,KAAQ,uBAAuB,CACnD,OAASC,eAAe,KAAQ,yBAAyB,CACzD,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,gBAAgB,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3D,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEc,EAAG,CAAC,CAAGZ,SAAS,CAAC,CAAC,CAC1BH,SAAS,CAAC,IAAM,CACd,cAAe,CAAAgB,iBAAiBA,CAAA,CAAG,CACjC,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAb,SAAS,UAAAc,MAAA,CACnBH,EAAE,kCACb,CAAC,CACDD,QAAQ,CAACR,eAAe,CAACW,MAAM,CAAC,CAAC,CACnC,CAEAD,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,CAACD,EAAE,CAAED,QAAQ,CAAC,CAAC,CAClB,KAAM,CAAAK,YAAY,CAAGjB,WAAW,CAAEkB,KAAK,EAAKA,KAAK,CAACC,KAAK,CAACC,aAAa,CAACC,IAAI,CAAC,CAC3E,KAAM,CAAAC,QAAQ,CAAGtB,WAAW,CAAEkB,KAAK,EAAKA,KAAK,CAACK,GAAG,CAACC,QAAQ,CAACC,IAAI,CAAC,CAEhE,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCd,QAAQ,CAACT,WAAW,CAAC,CAAC,CAAC,CAEvB,KAAM,CAAAwB,GAAG,CAAG,KAAM,CAAAzB,SAAS,UAAAc,MAAA,CAChBH,EAAE,kCAAAG,MAAA,CAAgCM,QAAQ,CACrD,CAAC,CACDV,QAAQ,CAACR,eAAe,CAAC,CAAC,GAAGa,YAAY,CAAE,GAAGU,GAAG,CAAC,CAAC,CAAC,CACtD,CAAC,CAED,mBACEjB,KAAA,QAAKkB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCrB,IAAA,CAACH,WAAW,GAAE,CAAC,cACfK,KAAA,QAAKkB,SAAS,CAAC,8DAA8D,CAAAC,QAAA,eAC3ErB,IAAA,CAACF,gBAAgB,EAACe,IAAI,CAAEJ,YAAa,CAAE,CAAC,cACxCT,IAAA,WAAQsB,OAAO,CAAEJ,cAAe,CAAAG,QAAA,cAC9BrB,IAAA,SAAMoB,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,WAE/E,CAAM,CAAC,CACD,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}