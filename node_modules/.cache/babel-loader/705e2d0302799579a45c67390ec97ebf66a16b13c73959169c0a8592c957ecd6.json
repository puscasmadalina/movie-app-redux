{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{setMovies}from\"../../slices/MovieSlice\";import{fetchData}from\"../../utils/utils\";import{loadingMore}from\"../../slices/AppSlice\";import Filter from\"./Filter\";import MovieCard from\"./MovieCard\";import HomeButton from\"../(utils)/HomeButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Movies=()=>{const dispatch=useDispatch();const[search,setSearch]=useState(\"\");const[movieResults,setMovieResults]=useState([]);useEffect(()=>{async function fetchDataFunction(){const res=await fetchData(\"/movie/now_playing?language=en-US\");dispatch(setMovies(res));}fetchDataFunction();},[dispatch]);const moviesList=useSelector(state=>state.movie.movies.data);const nextPage=useSelector(state=>state.app.loadMore.page);const handleLoadMore=async()=>{dispatch(loadingMore());const res=await fetchData(\"/movie/now_playing?language=en-US&page=\".concat(nextPage));dispatch(setMovies([...moviesList,...res]));};const handlerSearch=async()=>{if(search.trim()===\"\"){return setMovieResults([]);}else{const res=await fetchData(\"search/movie?query=\".concat(search,\"&include_adult=false&language=en-US&page=1\"));setMovieResults(res);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"pl-10 pr-10 flex flex-col gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-between mb-10\",children:[/*#__PURE__*/_jsx(HomeButton,{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl font-serif font-bold text-yellow-500\",children:\"Movies\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-[450px]\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"relative peer z-10 bg-transparent w-12 h-12 rounded-full border cursor-pointer outline-none pl-12 focus:w-full focus:cursor-text focus:pl-16 focus:pr-4 \",type:\"search\",placeholder:\"Search Movie ...\",value:search,onChange:e=>setSearch(e.target.value),onKeyDown:handlerSearch}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\" absolute inset-y-0 my-auto  w-12 h-8 stroke-gray-500 border-r border-transparent px-2 peer-focus:border-gray-500\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row pb-3 gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[30%]\",children:/*#__PURE__*/_jsx(Filter,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 w-[70%] gap-5\",children:movieResults.length>0?/*#__PURE__*/_jsx(MovieCard,{data:movieResults}):/*#__PURE__*/_jsx(MovieCard,{data:moviesList})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLoadMore,children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-500 rounded-xl p-2 text-black font-serif font-bold\",children:\"Load More\"})})]});};export default Movies;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","setMovies","fetchData","loadingMore","Filter","MovieCard","HomeButton","jsx","_jsx","jsxs","_jsxs","Movies","dispatch","search","setSearch","movieResults","setMovieResults","fetchDataFunction","res","moviesList","state","movie","movies","data","nextPage","app","loadMore","page","handleLoadMore","concat","handlerSearch","trim","className","children","type","placeholder","value","onChange","e","target","onKeyDown","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","length","onClick"],"sources":["/Users/puscasmadalina/Documents/Movie App/movie-app-redux/src/components/movies/Movies.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setMovies } from \"../../slices/MovieSlice\";\nimport { fetchData } from \"../../utils/utils\";\nimport { loadingMore } from \"../../slices/AppSlice\";\nimport Filter from \"./Filter\";\nimport MovieCard from \"./MovieCard\";\nimport HomeButton from \"../(utils)/HomeButton\";\n\nconst Movies = () => {\n  const dispatch = useDispatch();\n  const [search, setSearch] = useState(\"\");\n  const [movieResults, setMovieResults] = useState([]);\n\n  useEffect(() => {\n    async function fetchDataFunction() {\n      const res = await fetchData(`/movie/now_playing?language=en-US`);\n      dispatch(setMovies(res));\n    }\n\n    fetchDataFunction();\n  }, [dispatch]);\n\n  const moviesList = useSelector((state) => state.movie.movies.data);\n  const nextPage = useSelector((state) => state.app.loadMore.page);\n\n  const handleLoadMore = async () => {\n    dispatch(loadingMore());\n\n    const res = await fetchData(\n      `/movie/now_playing?language=en-US&page=${nextPage}`\n    );\n    dispatch(setMovies([...moviesList, ...res]));\n  };\n\n  const handlerSearch = async () => {\n    if (search.trim() === \"\") {\n      return setMovieResults([]);\n    } else {\n      const res = await fetchData(\n        `search/movie?query=${search}&include_adult=false&language=en-US&page=1`\n      );\n      setMovieResults(res);\n    }\n  };\n\n  return (\n    <div className=\"pl-10 pr-10 flex flex-col gap-3\">\n      <div className=\"flex flex-row items-center justify-between mb-10\">\n        <HomeButton />\n\n        <span className=\"text-4xl font-serif font-bold text-yellow-500\">\n          Movies\n        </span>\n        <div className=\"relative w-[450px]\">\n          <input\n            className=\"relative peer z-10 bg-transparent w-12 h-12 rounded-full border cursor-pointer outline-none pl-12 focus:w-full focus:cursor-text focus:pl-16 focus:pr-4 \"\n            type=\"search\"\n            placeholder=\"Search Movie ...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            onKeyDown={handlerSearch}\n          />\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            strokeWidth=\"1.5\"\n            stroke=\"currentColor\"\n            className=\" absolute inset-y-0 my-auto  w-12 h-8 stroke-gray-500 border-r border-transparent px-2 peer-focus:border-gray-500\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              d=\"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"\n            />\n          </svg>\n        </div>\n      </div>\n\n      <div className=\"flex flex-row pb-3 gap-3\">\n        <div className=\"w-[30%]\">\n          <Filter />\n        </div>\n        <div className=\"grid grid-cols-4 w-[70%] gap-5\">\n          {movieResults.length > 0 ? (\n            <MovieCard data={movieResults} />\n          ) : (\n            <MovieCard data={moviesList} />\n          )}\n        </div>\n      </div>\n      <button onClick={handleLoadMore}>\n        <span className=\"bg-yellow-500 rounded-xl p-2 text-black font-serif font-bold\">\n          Load More\n        </span>\n      </button>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}