{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{fetchData}from\"../../utils/utils\";import{useDispatch,useSelector}from\"react-redux\";import{setTvShow}from\"../../slices/TvShowSlice\";import{loadingMore}from\"../../slices/AppSlice\";import TvFilter from\"./TvFilter.js\";import TvCard from\"./TvCard.js\";import HomeButton from\"../(utils)/HomeButton.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TvShows=()=>{const dispatch=useDispatch();useEffect(()=>{async function fetchDataFunction(){const res=await fetchData(\"/tv/popular?language=en-US&page=1\");dispatch(setTvShow(res));}fetchDataFunction();},[dispatch]);const tvShowsList=useSelector(state=>state.series.tvShow.data);const nextPage=useSelector(state=>state.app.loadMore.page);const handleLoadMore=async()=>{dispatch(loadingMore());const res=await fetchData(\"/tv/popular?language=en-US&page=\".concat(nextPage));dispatch(setTvShow([...tvShowsList,...res]));};const[search,setSearch]=useState(\"\");const[serieResult,setSerieResult]=useState([]);const clearSearch=async()=>{setSearch(\"\");setSerieResult([]);};const handlerSearch=async()=>{if(search.trim()===\"\"){return setSerieResult([]);}else{const res=await fetchData(\"search/tv?query=\".concat(search,\"&include_adult=false&language=en-US&page=1\"));setSerieResult(res);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"pl-10 pr-10 flex flex-col gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-between mb-10\",children:[/*#__PURE__*/_jsx(HomeButton,{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl font-serif font-bold text-yellow-500\",children:\"TV Shows\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-[450px] justify-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"relative peer z-10 bg-transparent w-12 h-12 rounded-full border cursor-pointer outline-none pl-12 focus:w-full focus:cursor-text focus:pl-16 focus:pr-4 \",type:\"search\",placeholder:\"Search TvShow ...\",value:search,onChange:e=>setSearch(e.target.value),onKeyDown:handlerSearch}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\" absolute inset-y-0 my-auto  w-12 h-8 stroke-gray-500 border-r border-transparent px-2 peer-focus:border-gray-500\",onClick:clearSearch,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row pb-3 gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[30%]\",children:/*#__PURE__*/_jsx(TvFilter,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 w-[70%] gap-5\",children:serieResult.length>0?/*#__PURE__*/_jsx(TvCard,{data:serieResult}):/*#__PURE__*/_jsx(TvCard,{data:tvShowsList})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLoadMore,children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-500 rounded-xl p-2 text-black font-serif font-bold\",children:\"Load More\"})})]});};export default TvShows;","map":{"version":3,"names":["React","useEffect","useState","fetchData","useDispatch","useSelector","setTvShow","loadingMore","TvFilter","TvCard","HomeButton","jsx","_jsx","jsxs","_jsxs","TvShows","dispatch","fetchDataFunction","res","tvShowsList","state","series","tvShow","data","nextPage","app","loadMore","page","handleLoadMore","concat","search","setSearch","serieResult","setSerieResult","clearSearch","handlerSearch","trim","className","children","type","placeholder","value","onChange","e","target","onKeyDown","xmlns","fill","viewBox","strokeWidth","stroke","onClick","strokeLinecap","strokeLinejoin","d","length"],"sources":["/Users/puscasmadalina/Documents/Movie App/movie-app-redux/src/components/tvshow/TvShows.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { fetchData } from \"../../utils/utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setTvShow } from \"../../slices/TvShowSlice\";\nimport { loadingMore } from \"../../slices/AppSlice\";\nimport TvFilter from \"./TvFilter.js\";\nimport TvCard from \"./TvCard.js\";\nimport HomeButton from \"../(utils)/HomeButton.js\";\n\nconst TvShows = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    async function fetchDataFunction() {\n      const res = await fetchData(\"/tv/popular?language=en-US&page=1\");\n      dispatch(setTvShow(res));\n    }\n    fetchDataFunction();\n  }, [dispatch]);\n  const tvShowsList = useSelector((state) => state.series.tvShow.data);\n  const nextPage = useSelector((state) => state.app.loadMore.page);\n\n  const handleLoadMore = async () => {\n    dispatch(loadingMore());\n\n    const res = await fetchData(`/tv/popular?language=en-US&page=${nextPage}`);\n    dispatch(setTvShow([...tvShowsList, ...res]));\n  };\n\n  const [search, setSearch] = useState(\"\");\n  const [serieResult, setSerieResult] = useState([]);\n\n  const clearSearch = async () => {\n    setSearch(\"\");\n    setSerieResult([]);\n  };\n\n  const handlerSearch = async () => {\n    if (search.trim() === \"\") {\n      return setSerieResult([]);\n    } else {\n      const res = await fetchData(\n        `search/tv?query=${search}&include_adult=false&language=en-US&page=1`\n      );\n      setSerieResult(res);\n    }\n  };\n\n  return (\n    <div className=\"pl-10 pr-10 flex flex-col gap-3\">\n      <div className=\"flex flex-row items-center justify-between mb-10\">\n        <HomeButton />\n        <span className=\"text-4xl font-serif font-bold text-yellow-500\">\n          TV Shows\n        </span>\n        <div className=\"relative w-[450px] justify-center\">\n          <input\n            className=\"relative peer z-10 bg-transparent w-12 h-12 rounded-full border cursor-pointer outline-none pl-12 focus:w-full focus:cursor-text focus:pl-16 focus:pr-4 \"\n            type=\"search\"\n            placeholder=\"Search TvShow ...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            onKeyDown={handlerSearch}\n          />\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            strokeWidth=\"1.5\"\n            stroke=\"currentColor\"\n            className=\" absolute inset-y-0 my-auto  w-12 h-8 stroke-gray-500 border-r border-transparent px-2 peer-focus:border-gray-500\"\n            onClick={clearSearch}\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              d=\"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"\n            />\n          </svg>\n        </div>\n      </div>\n\n      <div className=\"flex flex-row pb-3 gap-3\">\n        <div className=\"w-[30%]\">\n          <TvFilter />\n        </div>\n        <div className=\"grid grid-cols-4 w-[70%] gap-5\">\n          {serieResult.length > 0 ? (\n            <TvCard data={serieResult} />\n          ) : (\n            <TvCard data={tvShowsList} />\n          )}\n        </div>\n      </div>\n      <button onClick={handleLoadMore}>\n        <span className=\"bg-yellow-500 rounded-xl p-2 text-black font-serif font-bold\">\n          Load More\n        </span>\n      </button>\n    </div>\n  );\n};\n\nexport default TvShows;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,mBAAmB,CAC7C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,KAAQ,0BAA0B,CACpD,OAASC,WAAW,KAAQ,uBAAuB,CACnD,MAAO,CAAAC,QAAQ,KAAM,eAAe,CACpC,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9BH,SAAS,CAAC,IAAM,CACd,cAAe,CAAAgB,iBAAiBA,CAAA,CAAG,CACjC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAf,SAAS,CAAC,mCAAmC,CAAC,CAChEa,QAAQ,CAACV,SAAS,CAACY,GAAG,CAAC,CAAC,CAC1B,CACAD,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CACd,KAAM,CAAAG,WAAW,CAAGd,WAAW,CAAEe,KAAK,EAAKA,KAAK,CAACC,MAAM,CAACC,MAAM,CAACC,IAAI,CAAC,CACpE,KAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAEe,KAAK,EAAKA,KAAK,CAACK,GAAG,CAACC,QAAQ,CAACC,IAAI,CAAC,CAEhE,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCZ,QAAQ,CAACT,WAAW,CAAC,CAAC,CAAC,CAEvB,KAAM,CAAAW,GAAG,CAAG,KAAM,CAAAf,SAAS,oCAAA0B,MAAA,CAAoCL,QAAQ,CAAE,CAAC,CAC1ER,QAAQ,CAACV,SAAS,CAAC,CAAC,GAAGa,WAAW,CAAE,GAAGD,GAAG,CAAC,CAAC,CAAC,CAC/C,CAAC,CAED,KAAM,CAACY,MAAM,CAAEC,SAAS,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAC8B,WAAW,CAAEC,cAAc,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAgC,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9BH,SAAS,CAAC,EAAE,CAAC,CACbE,cAAc,CAAC,EAAE,CAAC,CACpB,CAAC,CAED,KAAM,CAAAE,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAIL,MAAM,CAACM,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACxB,MAAO,CAAAH,cAAc,CAAC,EAAE,CAAC,CAC3B,CAAC,IAAM,CACL,KAAM,CAAAf,GAAG,CAAG,KAAM,CAAAf,SAAS,oBAAA0B,MAAA,CACNC,MAAM,8CAC3B,CAAC,CACDG,cAAc,CAACf,GAAG,CAAC,CACrB,CACF,CAAC,CAED,mBACEJ,KAAA,QAAKuB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9CxB,KAAA,QAAKuB,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/D1B,IAAA,CAACF,UAAU,GAAE,CAAC,cACdE,IAAA,SAAMyB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,UAEhE,CAAM,CAAC,cACPxB,KAAA,QAAKuB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD1B,IAAA,UACEyB,SAAS,CAAC,0JAA0J,CACpKE,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAEX,MAAO,CACdY,QAAQ,CAAGC,CAAC,EAAKZ,SAAS,CAACY,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CI,SAAS,CAAEV,aAAc,CAC1B,CAAC,cACFvB,IAAA,QACEkC,KAAK,CAAC,4BAA4B,CAClCC,IAAI,CAAC,MAAM,CACXC,OAAO,CAAC,WAAW,CACnBC,WAAW,CAAC,KAAK,CACjBC,MAAM,CAAC,cAAc,CACrBb,SAAS,CAAC,mHAAmH,CAC7Hc,OAAO,CAAEjB,WAAY,CAAAI,QAAA,cAErB1B,IAAA,SACEwC,aAAa,CAAC,OAAO,CACrBC,cAAc,CAAC,OAAO,CACtBC,CAAC,CAAC,+EAA+E,CAClF,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,cAENxC,KAAA,QAAKuB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC1B,IAAA,QAAKyB,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtB1B,IAAA,CAACJ,QAAQ,GAAE,CAAC,CACT,CAAC,cACNI,IAAA,QAAKyB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAC5CN,WAAW,CAACuB,MAAM,CAAG,CAAC,cACrB3C,IAAA,CAACH,MAAM,EAACc,IAAI,CAAES,WAAY,CAAE,CAAC,cAE7BpB,IAAA,CAACH,MAAM,EAACc,IAAI,CAAEJ,WAAY,CAAE,CAC7B,CACE,CAAC,EACH,CAAC,cACNP,IAAA,WAAQuC,OAAO,CAAEvB,cAAe,CAAAU,QAAA,cAC9B1B,IAAA,SAAMyB,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,WAE/E,CAAM,CAAC,CACD,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}